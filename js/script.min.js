// Optimized JavaScript - Critical functionality only
(function(){'use strict';const passiveSupported=(function(){let supported=false;try{const options={get passive(){supported=true;return false}};window.addEventListener('test',null,options);window.removeEventListener('test',null,options)}catch(err){supported=false}return supported})();const eventOptions=passiveSupported?{passive:true}:false;const throttle=(func,limit)=>{let inThrottle;return function(...args){if(!inThrottle){func.apply(this,args);inThrottle=true;setTimeout(()=>inThrottle=false,limit)}}};function initMobileMenu(){const menuBtn=document.querySelector('.menu-btn');const navLinks=document.querySelector('.nav-links');if(!menuBtn||!navLinks)return;menuBtn.addEventListener('click',()=>{const isActive=navLinks.classList.contains('active');navLinks.classList.toggle('active');menuBtn.setAttribute('aria-expanded',!isActive);menuBtn.setAttribute('aria-label',isActive?'Menüyü Aç':'Menüyü Kapat')});document.addEventListener('click',(e)=>{if(!menuBtn.contains(e.target)&&!navLinks.contains(e.target)){navLinks.classList.remove('active');menuBtn.setAttribute('aria-expanded','false');menuBtn.setAttribute('aria-label','Menüyü Aç')}});document.addEventListener('keydown',(e)=>{if(e.key==='Escape'&&navLinks.classList.contains('active')){navLinks.classList.remove('active');menuBtn.setAttribute('aria-expanded','false');menuBtn.setAttribute('aria-label','Menüyü Aç');menuBtn.focus()}})}function initScrollUp(){const scrollUpBtn=document.querySelector('.scroll-up-btn');if(!scrollUpBtn)return;scrollUpBtn.addEventListener('click',()=>{window.scrollTo({top:0,behavior:'smooth'})});const handleScroll=throttle(()=>{if(window.scrollY>300){scrollUpBtn.style.display='flex';scrollUpBtn.classList.add('show')}else{scrollUpBtn.classList.remove('show');setTimeout(()=>{if(!scrollUpBtn.classList.contains('show')){scrollUpBtn.style.display='none'}},300)}},100);window.addEventListener('scroll',handleScroll,eventOptions)}function initLazyLoading(){if('IntersectionObserver' in window){const imageObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src;img.classList.add('loaded');img.classList.remove('lazy');imageObserver.unobserve(img)}})},{rootMargin:'50px 0px',threshold:0.01});document.querySelectorAll('img[data-src]').forEach(img=>{imageObserver.observe(img)})}else{document.querySelectorAll('img[data-src]').forEach(img=>{img.src=img.dataset.src;img.classList.remove('lazy')})}}function ready(fn){if(document.readyState!=='loading'){fn()}else{document.addEventListener('DOMContentLoaded',fn)}}ready(function(){initMobileMenu();initScrollUp();initLazyLoading();const video=document.getElementById('hero-video');if(video){video.addEventListener('error',()=>{video.style.display='none';const hero=document.querySelector('.hero');if(hero){hero.style.backgroundImage='url(assets/hero-bg.webp)';hero.style.backgroundSize='cover';hero.style.backgroundPosition='center'}})}});window.openMap=function(){window.open("https://maps.app.goo.gl/goKmYgERBhHaGAds7",'_blank')};window.openAdminPanel=function(){const baseUrl=window.location.origin;window.open(baseUrl+'/admin-login.html','_blank')}})(); 